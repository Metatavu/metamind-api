{"inkVersion":17,"root":[{"->":"start"},"done",{"start":[["ev",{"^->":"start.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^OrderElectricity",{"->":"$r","var":true},null],"c":["ev",{"^->":"start.0.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n",{"->":"start.check_consumption_knowledge"},"\n",{"#f":7}]}],{"check_consumption_knowledge":["^Tiedätkö paljonko sähkönkulutuksenne on vuositasolla?","\n","^::SET_REPROMPT Vastaa kyllä tai ei","\n","^::SET_HINT Kyllä tai Ei","\n","^::ADD_QUICK_REPLY Kyllä","\n","^::ADD_QUICK_REPLY Ei","\n",["ev",{"^->":"start.check_consumption_knowledge.10.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^YesIntent",{"->":"$r","var":true},null],"c":["ev",{"^->":"start.check_consumption_knowledge.10.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":"order_electricity"},{"#f":7}]}],["ev",{"^->":"start.check_consumption_knowledge.11.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^NoIntent",{"->":"$r","var":true},null],"c":["ev",{"^->":"start.check_consumption_knowledge.11.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":"prompt_calculate_electricity_consumption"},"end",{"#f":7}]}],{"#f":3}],"#f":3}],"prompt_calculate_electricity_consumption":["^Haluaisitko, että autan sinua arvioimaan sähkönkulutuksesi?","\n","^::SET_REPROMPT Vastaa kyllä tai ei","\n","^::SET_HINT Kyllä tai Ei","\n","^::ADD_QUICK_REPLY Kyllä","\n","^::ADD_QUICK_REPLY Ei","\n",["ev",{"^->":"prompt_calculate_electricity_consumption.10.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^YesIntent",{"->":"$r","var":true},null],"c":["ev",{"^->":"prompt_calculate_electricity_consumption.10.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":"calculate_electricity_consumption"},{"#f":7}]}],["ev",{"^->":"prompt_calculate_electricity_consumption.11.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^NoIntent",{"->":"$r","var":true},null],"c":["ev",{"^->":"prompt_calculate_electricity_consumption.11.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":"order_not_fixed_price_electricity"},"end",{"#f":7}]}],{"#f":3}],"calculate_electricity_consumption":["^Kertoisitko, millaisessa talossa asut?","\n","^::SET_REPROMPT Vastaa omakotitalo, rivitalo tai kerrostalo. Mikäli asut jossakin muussa asumismuodossa, kuten paritalossa vastaa lähin vaihtoehto.","\n","^::SET_HINT Omakotitalo, rivitalo tai kerrostalo","\n","^::ADD_QUICK_REPLY Omakotitalo","\n","^::ADD_QUICK_REPLY Rivitalo","\n","^::ADD_QUICK_REPLY Kerrostalo","\n",["ev",{"^->":"calculate_electricity_consumption.12.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^HouseIntent",{"->":"$r","var":true},null],"c":["ev",{"^->":"calculate_electricity_consumption.12.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":"calculate_house_electricity_consumption"},{"#f":7}]}],["ev",{"^->":"calculate_electricity_consumption.13.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^RowhouseIntent",{"->":"$r","var":true},null],"c":["ev",{"^->":"calculate_electricity_consumption.13.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":"calculate_rowhouse_electricity_consumption"},{"#f":7}]}],["ev",{"^->":"calculate_electricity_consumption.14.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^ApartmentHouseIntent",{"->":"$r","var":true},null],"c":["ev",{"^->":"calculate_electricity_consumption.14.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":"calculate_apartmenthouse_electricity_consumption"},"end",{"#f":7}]}],{"#f":3}],"calculate_house_electricity_consumption":["ev","str","^HOUSE","/str","/ev",{"temp=":"housetype","re":true},{"->":"resident_count"},"end",{"#f":3}],"calculate_rowhouse_electricity_consumption":["ev","str","^ROWHOUSE","/str","/ev",{"temp=":"housetype","re":true},{"->":"resident_count"},"end",{"#f":3}],"calculate_apartmenthouse_electricity_consumption":["ev","str","^APARTMENT_HOUSE","/str","/ev",{"temp=":"housetype","re":true},{"->":"resident_count"},"end",{"#f":3}],"resident_count":[[[["G>",["ev",{"VAR?":"residentcount"},0,"==","/ev",{"->":".^.b","c":true},{"b":[{"->":".^.^.^.^.^.^.request_resident_count"},{"->":".^.^.^.3"},null]}],[{"->":".^.b"},{"b":[{"->":"living_space_size"},{"->":".^.^.^.3"},null]}],"nop","G<",null],"\n","end",{"#f":7,"#n":"resident_count_loop"}],null],{"request_resident_count":[["^Kuinka monta henkilöä asunnossanne asuu?","\n","^::SET_REPROMPT Anteeksi, en täysin ymmärtänyt, kuinka monta henkilöä asunnossanne asuu?","\n","^::SET_HINT vastaa numerolla","\n",["ev",{"^->":"resident_count.request_resident_count.0.6.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^GaveResidentCount",{"->":"$r","var":true},null],"c":["ev",{"^->":"resident_count.request_resident_count.0.6.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":".^.^.^.g-0"},{"#f":7}]}],{"g-0":[{"->":".^.^.^.^.0.resident_count_loop"},"end",{"#f":7}]}],{"#f":3}],"#f":3}],"living_space_size":[[[["G>",["ev",{"VAR?":"livingspacesize"},0,"==","/ev",{"->":".^.b","c":true},{"b":[{"->":".^.^.^.^.^.^.request_living_space_size"},{"->":".^.^.^.3"},null]}],[{"->":".^.b"},{"b":[["G>",["ev",{"VAR?":"housetype"},"str","^HOUSE","/str","==","/ev",{"->":".^.b","c":true},{"b":[{"->":"year_build"},{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"housetype"},"str","^ROWHOUSE","/str","==","/ev",{"->":".^.b","c":true},{"b":[{"->":"year_build"},{"->":".^.^.^.4"},null]}],[{"->":".^.b"},{"b":[{"->":"prompt_underfloor_heating"},{"->":".^.^.^.4"},null]}],"nop","G<",null],"\n",{"->":".^.^.^.3"},null]}],"nop","G<",null],"\n","end",{"#f":7,"#n":"livingspace_size_loop"}],null],{"request_living_space_size":[["^Kuinka suuri on asuntonne asuinpinta-ala neliömetreinä?","\n","^::SET_REPROMPT Anteeksi, en täysin ymmärtänyt, osaisitko kertoa asuntonne asuinpinta-alan?","\n","^::SET_HINT xx m2","\n",["ev",{"^->":"living_space_size.request_living_space_size.0.6.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^GaveLivingSpaceSize",{"->":"$r","var":true},null],"c":["ev",{"^->":"living_space_size.request_living_space_size.0.6.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":".^.^.^.g-0"},{"#f":7}]}],{"g-0":[{"->":".^.^.^.^.0.livingspace_size_loop"},"end",{"#f":7}]}],{"#f":3}],"#f":3}],"year_build":[[[["G>",["ev",{"VAR?":"yearbuild"},0,"==","/ev",{"->":".^.b","c":true},{"b":[{"->":"year_build.request_year_build"},{"->":".^.^.^.3"},null]}],[{"->":".^.b"},{"b":[{"->":"evaluate_consumption"},{"->":".^.^.^.3"},null]}],"nop","G<",null],"\n","end",{"#f":7,"#n":"year_build_loop"}],null],{"request_year_build":[["^Milloin asuntonne on rakennettu?","\n","^::SET_REPROMPT Anteeksi, en täysin ymmärtänyt, osaisitko kertoa asuntonne rakennusvuoden?","\n","^::SET_HINT xxxx","\n",["ev",{"^->":"year_build.request_year_build.0.6.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^GaveYearBuild",{"->":"$r","var":true},null],"c":["ev",{"^->":"year_build.request_year_build.0.6.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":".^.^.^.g-0"},{"#f":7}]}],{"g-0":[{"->":".^.^.^.^.0.year_build_loop"},"end",{"#f":7}]}],{"#f":3}],"#f":3}],"prompt_underfloor_heating":["^Onko asunnossanne lattialämmitys?","\n","^::SET_REPROMPT Vastaa kyllä tai ei","\n","^::SET_HINT Kyllä tai Ei","\n","^::ADD_QUICK_REPLY Kyllä","\n","^::ADD_QUICK_REPLY Ei","\n",["ev",{"^->":"prompt_underfloor_heating.10.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^YesIntent",{"->":"$r","var":true},null],"c":["ev",{"^->":"prompt_underfloor_heating.10.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","ev",1,"/ev",{"temp=":"underfloorheating","re":true},{"->":"order_the_electricity"},{"#f":7}]}],["ev",{"^->":"prompt_underfloor_heating.11.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^NoIntent",{"->":"$r","var":true},null],"c":["ev",{"^->":"prompt_underfloor_heating.11.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","ev",0,"/ev",{"temp=":"underfloorheating","re":true},{"->":"evaluate_consumption"},"end",{"#f":7}]}],{"#f":3}],"evaluate_consumption":[["G>",["ev",{"VAR?":"housetype"},"str","^HOUSE","/str","==","/ev",{"->":".^.b","c":true},{"b":["ev",{"VAR?":"electricityconsumption"},5000,"+",{"temp=":"electricityconsumption","re":true},"/ev",{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"housetype"},"str","^ROWHOUSE","/str","==","/ev",{"->":".^.b","c":true},{"b":["ev",{"VAR?":"electricityconsumption"},3000,"+",{"temp=":"electricityconsumption","re":true},"/ev",{"->":".^.^.^.4"},null]}],[{"->":".^.b"},{"b":["ev",{"VAR?":"electricityconsumption"},2000,"+",{"temp=":"electricityconsumption","re":true},"/ev",{"->":".^.^.^.4"},null]}],"nop","G<",null],"\n",["G>",["ev",{"VAR?":"yearbuild"},1970,"<","/ev",{"->":".^.b","c":true},{"b":["ev",{"VAR?":"electricityconsumption"},5000,"+",{"temp=":"electricityconsumption","re":true},"/ev",{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"yearbuild"},1990,"<","/ev",{"->":".^.b","c":true},{"b":["ev",{"VAR?":"electricityconsumption"},3000,"+",{"temp=":"electricityconsumption","re":true},"/ev",{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"yearbuild"},2000,"<","/ev",{"->":".^.b","c":true},{"b":["ev",{"VAR?":"electricityconsumption"},1000,"+",{"temp=":"electricityconsumption","re":true},"/ev",{"->":".^.^.^.4"},null]}],"nop","G<",null],"\n",["G>",["ev",{"VAR?":"underfloorheating"},"/ev",{"->":".^.b","c":true},{"b":["ev",{"VAR?":"electricityconsumption"},2000,"+",{"temp=":"electricityconsumption","re":true},"/ev",{"->":".^.^.^.2"},null]}],"nop","G<",null],"\n","^Arviolta kulutuksesi olisi noin ",["G>","ev",{"VAR?":"electricityconsumption"},"out","/ev","G<",null],"^ kwh","\n",{"->":"order_electricity"},"end",{"#f":3}],"order_electricity":[[[["G>",["ev",{"VAR?":"electricityconsumption"},0,"==","/ev",{"->":".^.b","c":true},{"b":[{"->":".^.^.^.^.^.^.request_electricity_consumption"},{"->":".^.^.^.3"},null]}],[{"->":".^.b"},{"b":[{"->":"order_the_electricity"},{"->":".^.^.^.3"},null]}],"nop","G<",null],"\n","end",{"#f":7,"#n":"order_electricity_loop"}],null],{"request_electricity_consumption":[["^Paljonko on vuotuinen sähkönkulutuksenne ?","\n","^::SET_REPROMPT Anteeksi, en täysin ymmärtänyt, paljonko on vuotuinen sähkönkulutuksenne ?","\n","^::SET_HINT X kwh","\n",["ev",{"^->":"order_electricity.request_electricity_consumption.0.6.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^GaveElectricityConsumption",{"->":"$r","var":true},null],"c":["ev",{"^->":"order_electricity.request_electricity_consumption.0.6.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":".^.^.^.g-0"},{"#f":7}]}],{"g-0":[{"->":".^.^.^.^.0.order_electricity_loop"},{"#f":7}]}],{"#f":3}],"#f":3}],"order_the_electricity":[["G>",["ev",{"VAR?":"electricityconsumption"},10000,">","/ev",{"->":".^.b","c":true},{"b":[{"->":"order_not_fixed_price_electricity"},{"->":".^.^.^.3"},null]}],[{"->":".^.b"},{"b":[{"->":"order_fixed_price_electricity"},{"->":".^.^.^.3"},null]}],"nop","G<",null],"\n",{"#f":3}],"order_not_fixed_price_electricity":["^Suosittelen sinulle 2 vuoden määräaikaista sähkösopimusta.","\n","end",{"#f":3}],"order_fixed_price_electricity":["^::ORDER_ELECTRICITY","\n","^Miltä kuulostaisi ",["G>","ev",{"VAR?":"electricityprice"},"out","/ev","G<",null],"^ / kk? Sopimus voitaisiin kiinnittää vuodeksi eteenpäin.","\n","end",{"#f":3}],"get_phone_number":[[[["G>",["ev",{"VAR?":"phonenumber"},"str","^","/str","==","/ev",{"->":".^.b","c":true},{"b":[{"->":".^.^.^.^.^.^.request_phone_number"},{"->":".^.^.^.3"},null]}],[{"->":".^.b"},{"b":[{"->":".^.^.^.^.^.^.phone_number_received"},{"->":".^.^.^.3"},null]}],"nop","G<",null],"\n","end",{"#f":7,"#n":"phone_number_loop"}],null],{"request_phone_number":[["^Antakaa puhelinnumeronne jolloin asiakaspalvelijamme ottaa teihin yhteyttä.","\n",["ev",{"^->":"get_phone_number.request_phone_number.0.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^GavePhoneNumber",{"->":"$r","var":true},null],"c":["ev",{"^->":"get_phone_number.request_phone_number.0.2.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":".^.^.^.g-0"},{"#f":7}]}],{"g-0":[{"->":".^.^.^.^.0.phone_number_loop"},"end",{"#f":7}]}],{"#f":3}],"phone_number_received":["^::SEND_EMAIL (content-template:test, subject:Metamindin kuuma linja, address:devs@metatavu.fi)","\n","^Kiitoksia, asiakaspalvelijamme ottaa teihin yhteyttä pian.","\n","end",{"#f":3}],"#f":3}],"bail_out":["^Anteeksi, en oikein osaa auttaa tällä hetkellä, haluaisitteko jättää puhelinnumeronne jolloin asiakaspalvelijamme ottaa teihin yhteyttä?","\n","^::SET_REPROMPT Vastaa kyllä tai ei","\n","^::SET_HINT Kyllä tai Ei","\n","^::ADD_QUICK_REPLY Kyllä","\n","^::ADD_QUICK_REPLY Ei","\n",["ev",{"^->":"bail_out.10.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^YesIntent",{"->":"$r","var":true},null],"c":["ev",{"^->":"bail_out.10.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n",{"->":"get_phone_number"},{"#f":7}]}],["ev",{"^->":"bail_out.11.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.c","flg":2},{"s":["^NoIntent",{"->":"$r","var":true},null],"c":["ev",{"^->":"bail_out.11.c.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.s"},[{"#n":"$r2"}],"\n","\n","end","end",{"#f":7}]}],{"#f":3}],"global decl":["ev","str","^","/str",{"VAR=":"housetype"},0,{"VAR=":"electricityconsumption"},0,{"VAR=":"residentcount"},"str","^","/str",{"VAR=":"electricityprice"},0,{"VAR=":"livingspacesize"},0,{"VAR=":"yearbuild"},0,{"VAR=":"underfloorheating"},"str","^","/str",{"VAR=":"phonenumber"},"/ev","end",null],"#f":3}],"listDefs":{}}